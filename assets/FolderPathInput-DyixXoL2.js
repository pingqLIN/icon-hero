import{j as t,a7 as T,a8 as E,a9 as z,aa as P,r as b,h,ab as F,a0 as I}from"./vendor-react-C6e-5eE6.js";import{c,I as R,a as f,S as A}from"./index-C7NKU9uD.js";import{ag as o}from"./vendor-misc-DGu4uscJ.js";import{A as C,m as L}from"./vendor-motion-DHv8ew7D.js";function B({className:r,...s}){return t.jsx(T,{"data-slot":"label",className:c("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...s})}function H({className:r,...s}){return t.jsx(E,{"data-slot":"tabs",className:c("flex flex-col gap-2",r),...s})}function U({className:r,...s}){return t.jsx(z,{"data-slot":"tabs-list",className:c("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",r),...s})}function V({className:r,...s}){return t.jsx(P,{"data-slot":"tabs-trigger",className:c("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...s})}function G({paths:r,onPathsChange:s,placeholder:v="C:\\Users\\Username\\Documents\\Folder",showList:y=!0,maxPaths:m=50}){const[u,l]=b.useState(""),p=b.useRef(null),d=e=>{const a=e.trim();return a?r.includes(a)?(o.warning("æ­¤è·¯å¾‘å·²å­˜åœ¨"),!1):r.length>=m?(o.warning(`æœ€å¤šåªèƒ½åŠ å…¥ ${m} å€‹è·¯å¾‘`),!1):(s([...r,a]),!0):!1},g=()=>{d(u)&&l("")},j=e=>{s(r.filter((a,n)=>n!==e))},w=async()=>{if("showDirectoryPicker"in window)try{const a=(await window.showDirectoryPicker({mode:"read"})).name;l(a),o.info("å·²é¸å–è³‡æ–™å¤¾åç¨±ï¼Œè«‹åœ¨è¼¸å…¥æ¡†ä¸­è£œå…¨å®Œæ•´è·¯å¾‘å¾ŒæŒ‰ Enter",{duration:5e3})}catch(e){if(e instanceof DOMException&&e.name==="AbortError")return;console.error("Folder picker error:",e)}else p.current?.click()},k=e=>{const a=e.target.files;if(a&&a.length>0){const n=a[0].webkitRelativePath,i=n?n.split("/")[0]:a[0].name;l(i),o.info("å·²é¸å–è³‡æ–™å¤¾åç¨±ï¼Œè«‹åœ¨è¼¸å…¥æ¡†ä¸­è£œå…¨å®Œæ•´è·¯å¾‘å¾ŒæŒ‰ Enter",{duration:5e3})}e.target.value=""},N=e=>{e.preventDefault(),e.stopPropagation();const a=e.dataTransfer.getData("text/plain");if(a?.trim()){d(a.trim());return}if(e.dataTransfer.items?.length){const n=[];for(let i=0;i<e.dataTransfer.items.length;i++){const x=e.dataTransfer.items[i].webkitGetAsEntry?.();x?.isDirectory&&n.push(x.name)}if(n.length>0){n.forEach(i=>d(i)),o.info("å·²åŠ å…¥è³‡æ–™å¤¾åç¨±ï¼Œå»ºè­°æ‰‹å‹•è£œå…¨ç‚ºå®Œæ•´è·¯å¾‘",{duration:5e3});return}}if(e.dataTransfer.files?.length){for(let n=0;n<e.dataTransfer.files.length;n++)d(e.dataTransfer.files[n].name);o.info("å·²åŠ å…¥æª”æ¡ˆåç¨±ï¼Œå»ºè­°æ‰‹å‹•è£œå…¨ç‚ºå®Œæ•´è·¯å¾‘",{duration:5e3})}},D=e=>{e.preventDefault(),e.stopPropagation()};return t.jsxs("div",{className:"space-y-2",onDrop:N,onDragOver:D,children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx(R,{placeholder:v,value:u,onChange:e=>l(e.target.value),onKeyDown:e=>{e.key==="Enter"&&(e.preventDefault(),g())},className:"flex-1"}),t.jsx(f,{onClick:w,size:"icon",variant:"outline",type:"button",title:"ç€è¦½æœ¬æ©Ÿè³‡æ–™å¤¾",className:"shrink-0",children:t.jsx(h,{size:16,weight:"fill"})}),t.jsx(f,{onClick:g,size:"icon",variant:"outline",type:"button",disabled:!u.trim(),title:"æ–°å¢è·¯å¾‘",className:"shrink-0",children:t.jsx(F,{size:16})})]}),t.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[t.jsx(h,{size:14}),"è¼¸å…¥è·¯å¾‘æŒ‰ Enterã€é»æ“Š ğŸ“ ç€è¦½æœ¬æ©Ÿè³‡æ–™å¤¾ã€æˆ–æ‹–æ”¾è³‡æ–™å¤¾è‡³æ­¤è™•"]}),t.jsx("input",{ref:p,type:"file",webkitdirectory:"true",className:"hidden",onChange:k,"aria-label":"é¸æ“‡è³‡æ–™å¤¾ï¼ˆfallbackï¼‰"}),y&&r.length>0&&t.jsx(A,{className:"h-32 w-full rounded-lg border border-border p-2 bg-secondary/10",children:t.jsx("div",{className:"space-y-1",children:t.jsx(C,{mode:"popLayout",children:r.map((e,a)=>t.jsxs(L.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},className:"flex items-center justify-between p-2 bg-background rounded border border-border group hover:border-primary transition-colors",children:[t.jsx("span",{className:"text-xs font-mono truncate flex-1",children:e}),t.jsx(f,{size:"icon",variant:"ghost",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity shrink-0",onClick:()=>j(a),type:"button",title:"ç§»é™¤æ­¤è·¯å¾‘",children:t.jsx(I,{size:14})})]},`${e}-${a}`))})})})]})}export{G as F,B as L,H as T,U as a,V as b};
