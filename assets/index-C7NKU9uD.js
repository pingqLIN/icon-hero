const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PreviewDialog-D9_ucJT-.js","assets/vendor-react-C6e-5eE6.js","assets/vendor-ui-BQCqNqg0.js","assets/vendor-misc-DGu4uscJ.js","assets/dialog-n6Et0HJq.js","assets/vendor-motion-DHv8ew7D.js","assets/vendor-spark-DzJFg9d8.js","assets/vendor-utils-BkFDvfcB.js","assets/AutomationDialog-DBOQIlkG.js","assets/FolderPathInput-DyixXoL2.js","assets/ApplyIconDialog-CD47SNqx.js"])))=>i.map(i=>d[i]);
import{j as e,S as ke,n as $e,r as b,b as Te,P as Pe,d as _e,T as Fe,e as Be,C as Ve,A as We,m as Ge,f as Me,h as He,i as qe,k as Ze,s as Qe,l as he,o as Je,p as Ke,q as ge,t as ae,I as Ye,u as Xe,V as et,v as tt,w as rt,x as st,y as at,z as nt,B as ot,D as it,E as lt,F as ct,G as dt,H as ut,J as mt,K as xe,L as te,M as fe,N as pt,O as ht,Q as gt,U as xt,W as ft,X as bt,Y as vt,Z as yt,_ as wt,$ as jt}from"./vendor-react-C6e-5eE6.js";import"./vendor-spark-DzJFg9d8.js";import{ac as Nt,ad as It,ae as oe,af as kt,ag as F}from"./vendor-misc-DGu4uscJ.js";import{m as v,A as q}from"./vendor-motion-DHv8ew7D.js";import{J as Ce}from"./vendor-utils-BkFDvfcB.js";import"./vendor-ui-BQCqNqg0.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();const Ct="modulepreload",St=function(t){return"/icon-hero/"+t},be={},ie=function(r,n,l){let a=Promise.resolve();if(n&&n.length>0){let i=function(h){return Promise.all(h.map(s=>Promise.resolve(s).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");a=i(n.map(h=>{if(h=St(h),h in be)return;be[h]=!0;const s=h.endsWith(".css"),m=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const d=document.createElement("link");if(d.rel=s?"stylesheet":Ct,s||(d.as="script"),d.crossOrigin="",d.href=h,u&&d.setAttribute("nonce",u),document.head.appendChild(d),s)return new Promise((x,j)=>{d.addEventListener("load",x),d.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return a.then(c=>{for(const u of c||[])u.status==="rejected"&&o(u.reason);return r().catch(o)})};function I(...t){return Nt(It(t))}const zt=oe("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function L({className:t,variant:r,size:n,asChild:l=!1,...a}){const o=l?ke:"button";return e.jsx(o,{"data-slot":"button",className:I(zt({variant:r,size:n,className:t})),...a})}function Dt({className:t,type:r,...n}){return e.jsx("input",{type:r,"data-slot":"input",className:I("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}const Ut=({...t})=>e.jsx(kt,{theme:"light",className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t}),ve="/icon-hero/assets/bot-fly-Bvj9fbVL.png",ye="/icon-hero/assets/bot-fly-hero-DSUtjZip.png",Et="/icon-hero/assets/bot-wave-DCtC6hiY.png",Lt="/icon-hero/assets/bot-thumbsup-CKeAE9tT.png",we="/icon-hero/assets/bot-hold-BA7DW81u.png",je="/icon-hero/assets/hero-welcome-CRFGL2B3.png",At="/icon-hero/assets/hero-fly-DldQseAK.png",Rt="/icon-hero/assets/hero-wave-CP-dipY6.png",Ne="/icon-hero/assets/hero-think-B6IAdx2A.png";function ne({type:t="bot",state:r="idle",className:n="",variant:l="default"}){const a=()=>{switch(r){case"idle":return l==="lookDown"?ve:ye;case"analyzing":return we;case"processing":return Lt;case"success":return Et;case"error":return we;default:return l==="lookDown"?ve:ye}},o=()=>e.jsxs("div",{className:"relative w-48 h-48 flex items-center justify-center",children:[e.jsx(v.img,{src:a(),initial:{y:0,opacity:0,scale:.9},animate:{y:r==="processing"?[0,-10,0]:l==="lookDown"?[0,-2,0]:[0,-15,0],opacity:1,scale:1,rotate:r==="processing"?[0,2,-2,0]:0},transition:{y:{duration:r==="processing"?.5:l==="lookDown"?2.5:3,repeat:1/0,ease:"easeInOut"},opacity:{duration:.3},scale:{duration:.3},rotate:{duration:.5,repeat:1/0,ease:"easeInOut"}},className:"w-full h-full object-contain relative z-10 drop-shadow-[0_0_15px_rgba(6,182,212,0.5)]",alt:"Tech Bot"},r+l),e.jsx(v.div,{animate:{scale:[1,.8,1],opacity:[.3,.5,.3]},transition:{duration:l==="lookDown"?2.5:3,repeat:1/0},className:"absolute bottom-2 w-24 h-6 bg-black/30 blur-xl rounded-[100%]"})]}),c=()=>{switch(r){case"idle":return je;case"analyzing":return Ne;case"processing":return At;case"success":return Rt;case"error":return Ne;default:return je}},u=()=>e.jsxs("div",{className:"relative w-48 h-48 flex items-center justify-center",children:[e.jsx(v.img,{src:c(),initial:{y:0,opacity:0,scale:.9},animate:{y:r==="processing"?[0,-15,0]:l==="lookDown"?[0,-8,0]:[0,-15,0],opacity:1,scale:1,rotate:r==="processing"?[0,-5,5,0]:0},transition:{y:{duration:r==="processing"?.8:l==="lookDown"?3:4,repeat:1/0,ease:"easeInOut"},opacity:{duration:.3},scale:{duration:.3},rotate:{duration:.8,repeat:1/0,ease:"easeInOut"}},className:"w-full h-full object-contain relative z-10 drop-shadow-[0_10px_20px_rgba(59,130,246,0.4)]",alt:"Tool Hero"},r+l),e.jsx(v.div,{animate:{scale:[1,.85,1],opacity:[.2,.4,.2]},transition:{duration:l==="lookDown"?3:4,repeat:1/0},className:"absolute bottom-2 w-24 h-6 bg-blue-900/20 blur-xl rounded-[100%]"})]}),i=()=>e.jsx("div",{className:"relative w-32 h-32 flex items-center justify-center",children:e.jsxs(v.div,{animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},className:"relative",children:[e.jsx(v.div,{animate:{scale:[1,1.2,1]},transition:{duration:3,repeat:1/0},className:"absolute -top-6 -left-6 w-12 h-12 bg-primary/30 rounded-full blur-sm"}),e.jsx(v.div,{animate:{scale:[1.2,1,1.2]},transition:{duration:4,repeat:1/0},className:"absolute -bottom-6 -right-6 w-16 h-16 bg-secondary/30 rounded-full blur-md"}),e.jsx("div",{className:"w-16 h-16 bg-white/10 backdrop-blur-md border border-white/50 rounded-2xl rotate-45 flex items-center justify-center",children:e.jsx($e,{className:"text-primary w-8 h-8"})})]})});return e.jsxs("div",{className:`flex items-center justify-center ${n}`,children:[t==="bot"&&o(),t==="hero"&&u(),t==="abstract"&&i()]})}function Ot({onDrop:t,isProcessing:r,mascotType:n="bot",hasCompletedItems:l=!1}){const[a,o]=b.useState(!1),c=s=>{s.preventDefault(),s.stopPropagation(),a||o(!0)},u=s=>{s.preventDefault(),s.stopPropagation(),o(!1)},i=async s=>{s.preventDefault(),s.stopPropagation(),o(!1);const m=[];s.dataTransfer.files.length>0&&Array.from(s.dataTransfer.files).forEach(x=>{m.push(x)});const d=new Set;if(s.dataTransfer.types.includes("text/uri-list")&&s.dataTransfer.getData("text/uri-list").split(`
`).forEach(j=>{const y=j.trim();y&&!y.startsWith("#")&&(y.startsWith("http://")||y.startsWith("https://"))&&d.add(y)}),s.dataTransfer.types.includes("text/plain")){const x=s.dataTransfer.getData("text/plain").trim();x&&(x.startsWith("http://")||x.startsWith("https://"))&&d.add(x)}d.forEach(x=>m.push(x)),m.length>0&&t(m)},h=s=>{const m=[];s.clipboardData.files.length>0&&Array.from(s.clipboardData.files).forEach(x=>{m.push(x)});const d=s.clipboardData.getData("text");d&&(d.startsWith("http://")||d.startsWith("https://"))&&m.push(d),m.length>0&&(s.preventDefault(),t(m))};return e.jsx(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative group",onDragOver:c,onDragLeave:u,onDrop:i,onPaste:h,tabIndex:0,children:e.jsxs("div",{className:`relative border-2 border-dashed rounded-2xl p-12 transition-all duration-300 ${a?"border-primary bg-primary/10 shadow-[0_0_30px_rgba(var(--primary),0.2)]":"border-border bg-secondary/5 hover:border-primary/50 hover:bg-secondary/10 hover:shadow-[0_0_30px_rgba(var(--primary),0.1)]"}`,children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-2xl pointer-events-none",children:[e.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"radial-gradient(circle, currentColor 1px, transparent 1px)",backgroundSize:"20px 20px"}}),e.jsx(v.div,{animate:{rotate:360},transition:{duration:10,repeat:1/0,ease:"linear"},className:"absolute -top-10 -right-10 w-32 h-32 bg-primary/5 rounded-full blur-2xl"}),e.jsx(v.div,{animate:{rotate:-360},transition:{duration:15,repeat:1/0,ease:"linear"},className:"absolute -bottom-10 -left-10 w-32 h-32 bg-secondary/5 rounded-full blur-2xl"})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center gap-6 relative z-10",children:[l?e.jsx("div",{className:"w-16 h-16 bg-muted rounded-2xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300 shadow-sm border border-border",children:e.jsx(Te,{size:32,weight:"duotone",className:`transition-colors duration-300 ${r?"text-primary animate-pulse":"text-muted-foreground group-hover:text-primary"}`})}):e.jsx("div",{className:`transition-transform duration-300 relative z-20 ${n==="hero"?"scale-[1.513] group-hover:scale-[1.634]":"scale-125 group-hover:scale-[1.35]"}`,children:e.jsx(ne,{type:n,state:r?"processing":a?"analyzing":"idle"})}),e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-br from-foreground to-muted-foreground bg-clip-text text-transparent",children:r?"æ­£åœ¨è™•ç†æ‚¨çš„åœ–ç¤º...":"æ‹–æ›³æª”æ¡ˆæˆ–é€£çµåˆ°æ­¤è™•"}),e.jsxs("p",{className:"text-base text-muted-foreground max-w-md mx-auto leading-relaxed",children:["æ”¯æ´ ",e.jsx("span",{className:"text-primary font-medium",children:"PNG, JPG, ICO, ICNS"})," å’Œç¶²ç«™ URL",e.jsx("br",{}),"ç³»çµ±å°‡è‡ªå‹•å•Ÿå‹•è½‰æ›å¼•æ“Ž"]}),e.jsxs(v.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"inline-flex items-center gap-2 px-3 py-1 bg-background border border-border rounded-full text-xs text-muted-foreground shadow-sm mt-2",children:[e.jsx("span",{className:"w-4 h-4 flex items-center justify-center bg-muted rounded text-[10px]",children:"âŒ˜"}),e.jsx("span",{children:"+"}),e.jsx("span",{className:"w-4 h-4 flex items-center justify-center bg-muted rounded text-[10px]",children:"V"}),e.jsx("span",{children:"è²¼ä¸Šä¹Ÿå¯ä»¥"})]})]})]})]})})}const $t="/icon-hero/assets/ICONHERO-DgbJXyeh.png";function Tt({className:t=""}){return e.jsxs("div",{className:`relative flex items-center gap-4 group ${t}`,children:[e.jsx("div",{className:"absolute left-8 top-1/2 -translate-x-1/2 -translate-y-1/2 w-32 h-32 bg-primary/20 rounded-full blur-3xl opacity-50 group-hover:opacity-80 transition-opacity duration-500"}),e.jsx(v.div,{className:"relative z-10",initial:{scale:.8,opacity:0,y:-20},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",stiffness:200,damping:15,delay:.2},whileHover:{scale:1.1,rotate:[0,-5,5,0],transition:{duration:.4}},children:e.jsxs("div",{className:"relative",children:[e.jsx(v.div,{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-12 h-2 bg-black/40 blur-md rounded-full",animate:{scale:[1,1.2,1],opacity:[.3,.6,.3]},transition:{duration:3,repeat:1/0}}),e.jsx("img",{src:$t,alt:"ICON HERO Logo",className:"w-16 h-16 object-contain drop-shadow-[0_0_15px_rgba(59,130,246,0.6)] relative z-10"}),e.jsx(v.div,{className:"absolute inset-0 bg-gradient-to-tr from-white/0 via-white/30 to-white/0 opacity-0 group-hover:opacity-100 rounded-full",animate:{rotate:[0,360]},transition:{duration:3,repeat:1/0,ease:"linear"},style:{mixBlendMode:"overlay"}})]})}),e.jsxs("div",{className:"relative z-10",children:[e.jsx(v.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4,duration:.6},children:e.jsxs("h1",{className:"text-3xl font-bold tracking-tight mb-1 relative overflow-hidden",children:[e.jsx("span",{className:"bg-gradient-to-r from-cyan-400 via-blue-500 to-purple-600 bg-clip-text text-transparent inline-block drop-shadow-sm filter backdrop-brightness-125",children:"ICON HERO"}),e.jsx(v.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/40 to-transparent skew-x-12",initial:{x:"-150%"},animate:{x:"150%"},transition:{repeat:1/0,repeatDelay:5,duration:1.5,ease:"easeInOut"}})]})}),e.jsx(v.p,{className:"text-sm text-muted-foreground font-medium",initial:{opacity:0},animate:{opacity:1},transition:{delay:.8,duration:.5},children:"æ‚¨çš„çµ‚æ¥µåœ–ç¤ºè½‰æ›å·¥å…·"})]})]})}function Pt({className:t,...r}){return e.jsx("div",{"data-slot":"card",className:I("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}const _t=oe("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function re({className:t,variant:r,asChild:n=!1,...l}){const a=n?ke:"span";return e.jsx(a,{"data-slot":"badge",className:I(_t({variant:r}),t),...l})}function H({delayDuration:t=0,...r}){return e.jsx(Pe,{"data-slot":"tooltip-provider",delayDuration:t,...r})}function Q({...t}){return e.jsx(H,{children:e.jsx(_e,{"data-slot":"tooltip",...t})})}function J({...t}){return e.jsx(Fe,{"data-slot":"tooltip-trigger",...t})}function K({className:t,sideOffset:r=0,children:n,...l}){return e.jsx(Be,{children:e.jsxs(Ve,{"data-slot":"tooltip-content",sideOffset:r,className:I("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...l,children:[n,e.jsx(We,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}function se({item:t,onPreview:r,onDownload:n,onAutomation:l,onApplyIcon:a,isDragging:o=!1,isDragOver:c=!1,onDragStart:u,onDragEnd:i,onDragOver:h,onDrop:s,enableReorder:m=!1,onFileDragStart:d,onFileDragEnd:x}){const j=()=>{switch(t.status){case"pending":return e.jsx(ge,{size:20,className:"text-muted-foreground animate-spin"});case"analyzing":return e.jsx(ge,{size:20,className:"text-accent animate-spin",weight:"bold"});case"converting":return e.jsx(Ke,{size:20,className:"text-primary animate-pulse",weight:"bold"});case"completed":return e.jsx(Je,{size:20,className:"text-green-500",weight:"fill"});case"error":return e.jsx(he,{size:20,className:"text-destructive",weight:"fill"})}},y=()=>{switch(t.status){case"pending":return"ç­‰å¾…ä¸­";case"analyzing":return"åˆ†æžä¸­";case"converting":return`è½‰æ›ç‚º ${t.convertedFormat?.toUpperCase()}`;case"completed":return"å®Œæˆ";case"error":return"å¤±æ•—"}},R=()=>{switch(t.type){case"image":return e.jsx(Ye,{size:16,className:"text-primary",weight:"fill"});case"url":return e.jsx(ae,{size:16,className:"text-accent",weight:"bold"});default:return e.jsx(he,{size:16,className:"text-muted-foreground"})}},C=async(f,A)=>{if(t.status!=="completed"){f.preventDefault();return}const z=t.convertedUrls?.[A],T=t.convertedBlobs?.[A];if(!z||!T){f.preventDefault();return}const O=`${t.name}.${A}`;d?.(O),f.dataTransfer.effectAllowed="copy";const W=A==="ico"?"image/x-icon":A==="icns"?"image/icns":"image/png";f.dataTransfer.setData("DownloadURL",`${W}:${O}:${z}`);try{if(f.dataTransfer.setData("text/uri-list",z),f.dataTransfer.setData("text/plain",z),"items"in f.dataTransfer){const U=new File([T],O,{type:W});f.dataTransfer.items.add(U)}}catch(U){console.warn("Some drag data could not be set:",U)}const g=document.createElement("div");g.style.cssText=`
      position: absolute;
      top: -1000px;
      left: -1000px;
      background: oklch(1 0 0);
      border: 2px solid oklch(0.35 0.15 290);
      border-radius: 0.5rem;
      padding: 0.75rem 1rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-family: 'Space Grotesk', system-ui, sans-serif;
      font-size: 0.875rem;
      font-weight: 600;
      color: oklch(0.25 0.02 290);
      box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1);
      pointer-events: none;
      z-index: 10000;
    `,g.innerHTML=`
      <svg width="20" height="20" viewBox="0 0 256 256" fill="currentColor" style="flex-shrink: 0;">
        <path d="M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"></path>
      </svg>
      <span>${O}</span>
    `,document.body.appendChild(g),f.dataTransfer.setDragImage(g,0,0),setTimeout(()=>{document.body.contains(g)&&document.body.removeChild(g)},0);const k=f.currentTarget;k.style.pointerEvents="auto";const D=()=>{k.style.pointerEvents="",x?.(),document.removeEventListener("dragend",D),document.removeEventListener("drop",D),document.removeEventListener("mouseup",D),window.removeEventListener("blur",D)};document.addEventListener("dragend",D),document.addEventListener("drop",D),document.addEventListener("mouseup",D),window.addEventListener("blur",D)},B=f=>{f.stopPropagation(),u?.()};return e.jsx("div",{draggable:m,onDragStart:B,onDragEnd:i,onDragOver:h,onDrop:s,className:I("transition-all",o&&"opacity-50",c&&"scale-105"),children:e.jsx(v.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},layout:!0,children:e.jsx(Pt,{className:I("p-4 transition-all",m&&"cursor-grab active:cursor-grabbing",c&&"ring-2 ring-primary"),children:e.jsxs("div",{className:"flex items-center gap-4",children:[m&&e.jsx("div",{className:"flex-shrink-0 cursor-grab active:cursor-grabbing text-muted-foreground hover:text-foreground transition-colors",children:e.jsx(Ge,{size:20,weight:"bold"})}),e.jsx("div",{className:"flex-shrink-0",children:j()}),t.status==="completed"&&(t.convertedUrls?.png||t.originalUrl)&&e.jsx("div",{className:"relative w-10 h-10 rounded-lg overflow-hidden border border-primary/30 bg-background/50 flex-shrink-0",children:e.jsx("img",{src:t.convertedUrls?.png??t.originalUrl,alt:`${t.name} thumbnail`,className:"w-full h-full object-contain",loading:"lazy"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[R(),e.jsx("p",{className:"text-sm font-semibold truncate",children:t.name})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx(re,{variant:"outline",className:"text-[10px] px-1.5 py-0",children:y()}),t.format&&e.jsxs(re,{variant:"secondary",className:"text-[10px] px-1.5 py-0",children:["åŽŸå§‹: ",t.format.toUpperCase()]}),t.convertedFormat&&t.status==="converting"&&e.jsxs(re,{variant:"default",className:"text-[10px] px-1.5 py-0 animate-pulse",children:["è™•ç†ä¸­: ",t.convertedFormat.toUpperCase()]})]}),t.error&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:t.error})]}),t.status==="completed"&&t.convertedUrls&&e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsx(H,{children:e.jsxs(Q,{children:[e.jsx(J,{asChild:!0,children:e.jsx(L,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>r?.(t),children:e.jsx(Me,{size:16})})}),e.jsx(K,{children:e.jsx("p",{children:"é è¦½"})})]})}),e.jsx(H,{children:e.jsxs(Q,{children:[e.jsx(J,{asChild:!0,children:e.jsx(L,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>a?.(t),children:e.jsx(He,{size:16,weight:"fill"})})}),e.jsx(K,{children:e.jsx("p",{children:"ä¸€éµå¥—ç”¨åœ–ç¤ºåˆ°è³‡æ–™å¤¾"})})]})}),e.jsx(H,{children:e.jsxs(Q,{children:[e.jsx(J,{asChild:!0,children:e.jsx(L,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>l?.(t),children:e.jsx(qe,{size:16,weight:"bold"})})}),e.jsx(K,{children:e.jsx("p",{children:"è‡ªå‹•åŒ–è…³æœ¬"})})]})}),["png","ico","icns"].map(f=>{if(!t.convertedUrls?.[f])return null;const z=f==="ico";return e.jsx(H,{children:e.jsxs(Q,{children:[e.jsx(J,{asChild:!0,children:e.jsx("div",{draggable:!0,onDragStart:T=>C(T,f),className:"relative group",children:e.jsxs(L,{size:"sm",variant:z?"default":"outline",className:I("h-8 px-2 gap-1.5 cursor-grab active:cursor-grabbing transition-all",z?"bg-primary hover:bg-primary/90 shadow-sm":"hover:border-primary hover:bg-primary/5"),onClick:()=>n?.(t,f),children:[e.jsx(Ze,{size:14,weight:"fill",className:"opacity-0 group-hover:opacity-100 transition-opacity absolute -left-1 -top-1 text-primary-foreground"}),e.jsx(Qe,{size:14}),e.jsx("span",{className:"text-xs font-semibold",children:f.toUpperCase()})]})})}),e.jsxs(K,{side:"bottom",className:"max-w-xs",children:[e.jsxs("p",{className:"font-semibold",children:["æ‹–æ›³è‡³ç³»çµ±æª”æ¡ˆ/è³‡æ–™å¤¾",z?"ï¼ˆæŽ¨è–¦ Windowsï¼‰":""]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:z?"æ‹–æ›³ ICO è‡³ Windows è³‡æ–™å¤¾å…§ï¼Œç„¶å¾Œåœ¨è³‡æ–™å¤¾å±¬æ€§ä¸­è‡ªè¨‚åœ–ç¤º":`æˆ–é»žæ“Šä¸‹è¼‰ ${f.toUpperCase()} æª”æ¡ˆ`})]})]})},f)})]})]})})})})}function Ft({className:t,children:r,...n}){return e.jsxs(Xe,{"data-slot":"scroll-area",className:I("relative",t),...n,children:[e.jsx(et,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:r}),e.jsx(Bt,{}),e.jsx(tt,{})]})}function Bt({className:t,orientation:r="vertical",...n}){return e.jsx(rt,{"data-slot":"scroll-area-scrollbar",orientation:r,className:I("flex touch-none p-px transition-colors select-none",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...n,children:e.jsx(st,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function Ie({className:t,orientation:r="horizontal",decorative:n=!0,...l}){return e.jsx(at,{"data-slot":"separator-root",decorative:n,orientation:r,className:I("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...l})}async function Vt(t){if(t.length===0)return;const r=new Ce;for(const o of t){const c=r.folder(o.name)||r,u=["png","ico","icns"];for(const i of u){const h=o.convertedBlobs?.[i];h&&c.file(`${o.name}.${i}`,h)}}const n=await r.generateAsync({type:"blob"}),l=URL.createObjectURL(n),a=document.createElement("a");a.href=l,a.download="icons-all.zip",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(l)}async function Wt(t,r){if(t.length===0)return;const n=new Ce;for(const c of t){const u=c.convertedBlobs?.[r];u&&n.file(`${c.name}.${r}`,u)}const l=await n.generateAsync({type:"blob"}),a=URL.createObjectURL(l),o=document.createElement("a");o.href=a,o.download=`icons-${r}.zip`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)}function Gt({...t}){return e.jsx(nt,{"data-slot":"dropdown-menu",...t})}function Mt({...t}){return e.jsx(ot,{"data-slot":"dropdown-menu-trigger",...t})}function Ht({className:t,sideOffset:r=4,...n}){return e.jsx(it,{children:e.jsx(lt,{"data-slot":"dropdown-menu-content",sideOffset:r,className:I("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...n})})}function Y({className:t,inset:r,variant:n="default",...l}){return e.jsx(ct,{"data-slot":"dropdown-menu-item","data-inset":r,"data-variant":n,className:I("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...l})}function qt({className:t,...r}){return e.jsx(dt,{"data-slot":"dropdown-menu-separator",className:I("bg-border -mx-1 my-1 h-px",t),...r})}function Zt({items:t,onPreview:r,onDownload:n,onAutomation:l,onApplyIcon:a,onReorder:o,onClearCompleted:c,onFileDragStart:u,onFileDragEnd:i,mascotType:h="bot"}){const[s,m]=b.useState(null),[d,x]=b.useState(null),[j,y]=b.useState(!1);if(t.length===0)return e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-muted flex items-center justify-center mb-4",children:e.jsx(ut,{size:32,className:"text-muted-foreground"})}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"å°šç„¡è™•ç†é …ç›®"})]});const R=t.filter(g=>g.status==="pending"||g.status==="analyzing"||g.status==="converting"),C=t.filter(g=>g.status==="completed"),B=t.filter(g=>g.status==="error"),f=async g=>{try{y(!0),g?(await Wt(C,g),F.success("æ‰¹æ¬¡ä¸‹è¼‰å®Œæˆ",{description:`å·²ä¸‹è¼‰æ‰€æœ‰ ${g.toUpperCase()} æ ¼å¼æª”æ¡ˆ`})):(await Vt(C),F.success("æ‰¹æ¬¡ä¸‹è¼‰å®Œæˆ",{description:"å·²ä¸‹è¼‰æ‰€æœ‰è½‰æ›æª”æ¡ˆ"}))}catch(k){F.error("ä¸‹è¼‰å¤±æ•—",{description:k instanceof Error?k.message:"æ‰¹æ¬¡ä¸‹è¼‰æ™‚ç™¼ç”ŸéŒ¯èª¤"})}finally{y(!1)}},A=g=>{m(g.id)},z=()=>{m(null),x(null)},T=(g,k)=>{g.preventDefault(),s&&s!==k&&x(k)},O=(g,k)=>{if(g.preventDefault(),!s||!o){m(null),x(null);return}const D=C.findIndex(V=>V.id===s),U=C.findIndex(V=>V.id===k);if(D===-1||U===-1){m(null),x(null);return}const G=[...C],[Z]=G.splice(D,1);G.splice(U,0,Z);const X=[...R,...G,...B];o(X),m(null),x(null)},W=()=>{c&&c()};return e.jsxs("div",{className:"space-y-6",children:[C.length>0&&e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs(L,{variant:"outline",size:"sm",onClick:W,className:"gap-2",children:[e.jsx(mt,{size:16}),"æ¸…é™¤å·²å®Œæˆ"]}),e.jsxs(Gt,{children:[e.jsx(Mt,{asChild:!0,children:e.jsxs(L,{variant:"default",size:"sm",disabled:j||C.length===0,className:"gap-2",children:[e.jsx(xe,{size:16}),"æ‰¹æ¬¡ä¸‹è¼‰"]})}),e.jsxs(Ht,{children:[e.jsxs(Y,{onClick:()=>f(),children:[e.jsx(xe,{size:16,className:"mr-2"}),"ä¸‹è¼‰å…¨éƒ¨æ ¼å¼"]}),e.jsx(qt,{}),e.jsxs(Y,{onClick:()=>f("png"),children:[e.jsx(te,{size:16,className:"mr-2"}),"ä¸‹è¼‰æ‰€æœ‰ PNG"]}),e.jsxs(Y,{onClick:()=>f("ico"),children:[e.jsx(te,{size:16,className:"mr-2"}),"ä¸‹è¼‰æ‰€æœ‰ ICO"]}),e.jsxs(Y,{onClick:()=>f("icns"),children:[e.jsx(te,{size:16,className:"mr-2"}),"ä¸‹è¼‰æ‰€æœ‰ ICNS"]})]})]})]}),R.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold mb-3 text-muted-foreground",children:"è™•ç†ä¸­"}),e.jsx("div",{className:"space-y-2",children:e.jsx(q,{children:R.map(g=>e.jsx(se,{item:g,onPreview:r,onDownload:n,onAutomation:l,onApplyIcon:a,isDragging:!1,isDragOver:!1,enableReorder:!1,onFileDragStart:u,onFileDragEnd:i},g.id))})})]}),R.length>0&&C.length>0&&e.jsx(Ie,{}),C.length>0&&e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`absolute pointer-events-none ${h==="hero"?"z-20 right-[213px] -top-[84px]":"z-10 right-[80px] -top-[73px]"}`,children:h==="bot"?e.jsx("div",{className:"scale-[1.3] origin-top",children:e.jsx(ne,{type:"bot",state:"idle",variant:"lookDown",className:"drop-shadow-2xl"})}):e.jsx(ne,{type:"hero",state:"analyzing",variant:"lookDown",className:"drop-shadow-2xl scale-[1.3]"})}),e.jsxs("div",{className:`overflow-hidden rounded-xl border border-primary/20 p-4 ${h==="bot"?"relative z-20":""}`,children:[e.jsx("div",{className:"flex items-center gap-3 mb-3",children:e.jsx("h3",{className:"text-sm font-semibold text-muted-foreground",children:"å·²å®Œæˆ"})}),e.jsx(Ft,{className:"h-auto max-h-[600px]",children:e.jsx("div",{className:"space-y-2 pr-4",children:e.jsx(q,{children:C.map(g=>e.jsx(se,{item:g,onPreview:r,onDownload:n,onAutomation:l,onApplyIcon:a,isDragging:s===g.id,isDragOver:d===g.id,onDragStart:()=>A(g),onDragEnd:z,onDragOver:k=>T(k,g.id),onDrop:k=>O(k,g.id),enableReorder:o!==void 0,onFileDragStart:u,onFileDragEnd:i},g.id))})})})]})]}),B.length>0&&e.jsxs(e.Fragment,{children:[(R.length>0||C.length>0)&&e.jsx(Ie,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold mb-3 text-destructive",children:"ç™¼ç”ŸéŒ¯èª¤"}),e.jsx("div",{className:"space-y-2",children:e.jsx(q,{children:B.map(g=>e.jsx(se,{item:g,onPreview:r,onDownload:n,onAutomation:l,onApplyIcon:a,isDragging:!1,isDragOver:!1,enableReorder:!1,onFileDragStart:u,onFileDragEnd:i},g.id))})})]})]})]})}const Qt=[{name:"Flaticon",url:"https://www.flaticon.com",tagline:"å…¨çƒæœ€å¤§åœ–ç¤ºåº«ï¼Œæ¶µè“‹æ‰å¹³ã€è¼ªå»“ã€3D ç­‰å¤šç¨®é¢¨æ ¼",count:"22M+",license:"freemium",formats:["SVG","PNG","ICO","PSD"],highlight:"æœ€å¤§åœ–ç¤ºåº«",accentColor:"#00BFA5",logo:"ðŸŸ©"},{name:"Icons8",url:"https://icons8.com",tagline:"ä¸€éµèª¿è‰²ã€å¤šé¢¨æ ¼åˆ‡æ›ï¼Œæ”¯æ´æ’ç•«ã€ç…§ç‰‡èˆ‡ AI ç”Ÿæˆè³‡æº",count:"1.5M+",license:"freemium",formats:["SVG","PNG","ICO","PDF"],highlight:"é¢¨æ ¼å¤šå…ƒ",accentColor:"#43A047",logo:"ðŸŸ¢"},{name:"The Noun Project",url:"https://thenounproject.com",tagline:"ç¤¾ç¾¤è¨­è¨ˆå¸«è²¢ç»çš„æ¥µç°¡ SVG åœ–ç¤ºï¼Œä»¥ã€Œé€šç”¨èªžè¨€ã€ç‚ºè¨­è¨ˆå“²å­¸",count:"5M+",license:"freemium",formats:["SVG","PNG"],highlight:"æ¥µç°¡è¨­è¨ˆ",accentColor:"#757575",logo:"â¬›"},{name:"Iconfinder",url:"https://www.iconfinder.com",tagline:"é«˜å“è³ªåœ–ç¤ºå¸‚é›†ï¼Œå¾žç²¾ç·»å¯«å¯¦åˆ°æ‰å¹³åŒ–æ‡‰æœ‰ç›¡æœ‰",count:"6M+",license:"freemium",formats:["SVG","PNG","ICO","ICNS"],highlight:"å“è³ªé¦–é¸",accentColor:"#1E88E5",logo:"ðŸ”µ"},{name:"Font Awesome",url:"https://fontawesome.com",tagline:"å‰ç«¯é–‹ç™¼çš„ç¶“å…¸åœ–ç¤ºå¥—ä»¶ï¼Œæ”¯æ´ CSS/JS å¿«é€Ÿå¼•å…¥",count:"30k+",license:"freemium",formats:["SVG","WebFont","React"],highlight:"å‰ç«¯ç¶“å…¸",accentColor:"#228BE6",logo:"ðŸ”·"},{name:"Phosphor Icons",url:"https://phosphoricons.com",tagline:"6 ç¨®ç­†è§¸é‡é‡å½ˆæ€§åˆ‡æ›ï¼ŒMIT æŽˆæ¬Šï¼ŒReact / Vue åŽŸç”Ÿæ”¯æ´",count:"9k+",license:"free",formats:["SVG","React","Vue","Flutter"],highlight:"æœ¬ç«™æŽ¡ç”¨",accentColor:"#7950F2",logo:"ðŸŸ£"},{name:"Heroicons",url:"https://heroicons.com",tagline:"Tailwind CSS å®˜æ–¹åœ–ç¤ºï¼ŒOutline / Solid / Mini ä¸‰ç¨®è¦æ ¼",count:"300+",license:"free",formats:["SVG","React","Vue"],highlight:"Tailwind å®˜æ–¹",accentColor:"#06B6D4",logo:"ðŸ¦¸"},{name:"Lucide",url:"https://lucide.dev",tagline:"Feather Icons çš„ç¤¾ç¾¤ç¹¼æ‰¿è€…ï¼ŒæŒçºŒæ›´æ–°æ“´å……ï¼ŒMIT æŽˆæ¬Š",count:"1.5k+",license:"free",formats:["SVG","React","Vue","Flutter"],highlight:"ç¤¾ç¾¤æ´»èº",accentColor:"#F97316",logo:"âœ¨"},{name:"Feather Icons",url:"https://feathericons.com",tagline:"ä¸€è‡´æç·šé¢¨æ ¼çš„æ¥µç°¡é–‹æºåœ–ç¤ºé›†ï¼Œé©åˆä»‹é¢è¨­è¨ˆé…ç½®",count:"287",license:"free",formats:["SVG"],highlight:"æ¥µç°¡é–‹æº",accentColor:"#868E96",logo:"ðŸª¶"},{name:"Material Icons",url:"https://fonts.google.com/icons",tagline:"Google Material Design å®˜æ–¹åœ–ç¤ºï¼Œ5 ç¨®ä¸»é¡Œé¢¨æ ¼è‡ªç”±é¸æ“‡",count:"2500+",license:"free",formats:["SVG","PNG","Android","iOS"],highlight:"Google å®˜æ–¹",accentColor:"#4285F4",logo:"ðŸ”µ"}],Jt={free:{label:"å…è²»",className:"bg-emerald-500/15 text-emerald-500 ring-1 ring-emerald-500/30"},freemium:{label:"å…è²» + ä»˜è²»",className:"bg-amber-500/15 text-amber-500 ring-1 ring-amber-500/30"},paid:{label:"ä»˜è²»",className:"bg-rose-500/15 text-rose-500 ring-1 ring-rose-500/30"}},Kt={hidden:{},visible:{transition:{staggerChildren:.06}}},Yt={hidden:{opacity:0,y:16},visible:{opacity:1,y:0,transition:{duration:.35,ease:"easeOut"}}};function Xt(){return e.jsxs("section",{className:"mt-16",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"h-px flex-1 bg-border"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-muted-foreground tracking-wider uppercase",children:[e.jsx(fe,{size:14,weight:"fill",className:"text-primary"}),"ä¸–ç•Œå‰ 10 å¤§ Icon è³‡æºç¶²ç«™",e.jsx(fe,{size:14,weight:"fill",className:"text-primary"})]}),e.jsx("div",{className:"h-px flex-1 bg-border"})]}),e.jsx("p",{className:"text-center text-sm text-muted-foreground mb-8 -mt-2",children:"æ‰¾åˆ°ç†æƒ³åœ–ç¤ºå¾Œï¼Œç›´æŽ¥è²¼ä¸Š URL æˆ–ä¸‹è¼‰å¾Œæ‹–å…¥ä¸Šæ–¹å·¥ä½œå€å³å¯è½‰æ›"}),e.jsx(v.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",variants:Kt,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-60px"},children:Qt.map(t=>e.jsx(er,{site:t},t.name))})]})}function er({site:t}){const r=Jt[t.license];return e.jsxs(v.a,{variants:Yt,href:t.url,target:"_blank",rel:"noopener noreferrer",className:`group relative flex flex-col gap-3 rounded-xl border border-border bg-card p-4 transition-all duration-200
                 hover:-translate-y-0.5 hover:border-primary/40 hover:shadow-[0_4px_20px_rgba(0,0,0,0.15)]
                 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary`,style:{"--site-color":t.accentColor},children:[e.jsx("div",{className:"absolute top-0 left-4 right-4 h-[2px] rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300",style:{background:t.accentColor}}),e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl leading-none",children:t.logo}),e.jsx("span",{className:"font-bold text-sm text-foreground leading-tight",children:t.name})]}),e.jsx(pt,{size:14,className:"mt-0.5 flex-shrink-0 text-muted-foreground/60 group-hover:text-primary transition-colors"})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"text-xl font-extrabold tabular-nums leading-none",style:{color:t.accentColor},children:t.count}),e.jsx("span",{className:`text-[10px] font-medium px-1.5 py-0.5 rounded-full leading-none ${r.className}`,children:r.label})]}),e.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed line-clamp-3 flex-1",children:t.tagline}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-auto pt-1 border-t border-border/50",children:t.formats.map(n=>e.jsx("span",{className:"text-[10px] font-mono px-1.5 py-0.5 rounded bg-muted text-muted-foreground leading-none",children:n},n))}),e.jsx("div",{className:"absolute -top-2.5 right-3 text-[10px] font-bold px-2 py-0.5 rounded-full text-white shadow-sm leading-none",style:{background:t.accentColor},children:t.highlight})]})}function tr({isActive:t,fileName:r}){const[n,l]=b.useState({x:0,y:0}),[a,o]=b.useState([]);return b.useEffect(()=>{if(!t){o([]);return}const c=u=>{const i={x:u.clientX,y:u.clientY};l(i),o(h=>[...h,i].slice(-15))};return window.addEventListener("mousemove",c),()=>window.removeEventListener("mousemove",c)},[t]),e.jsx(q,{children:t&&e.jsxs(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 pointer-events-none z-[9999]",children:[e.jsx("svg",{className:"absolute inset-0 w-full h-full",style:{mixBlendMode:"multiply"},children:a.map((c,u)=>{const i=(u+1)/a.length,h=8+i*12;return e.jsx("circle",{cx:c.x,cy:c.y,r:h,fill:"oklch(0.75 0.18 210)",opacity:i*.3},`${c.x}-${c.y}-${u}`)})}),e.jsx(v.div,{animate:{x:n.x-20,y:n.y-20},transition:{type:"spring",damping:30,stiffness:300},className:"absolute",children:e.jsxs("div",{className:"relative",children:[e.jsx(v.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:e.jsx(ht,{size:40,weight:"bold",className:"text-accent drop-shadow-lg"})}),r&&e.jsx(v.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute top-12 left-1/2 -translate-x-1/2 whitespace-nowrap",children:e.jsx("div",{className:"bg-primary text-primary-foreground px-3 py-1 rounded-full text-xs font-semibold shadow-lg",children:r})})]})}),e.jsx(v.div,{initial:{scale:0},animate:{scale:1},className:"absolute top-4 left-1/2 -translate-x-1/2",children:e.jsxs("div",{className:"bg-accent/90 backdrop-blur-sm text-accent-foreground px-4 py-2 rounded-lg shadow-lg flex items-center gap-2",children:[e.jsx(gt,{size:20,weight:"bold"}),e.jsx("span",{className:"text-sm font-semibold",children:"æ‹–æ›³è‡³ç›®æ¨™ä½ç½®ä»¥å¥—ç”¨åœ–ç¤º"})]})})]})})}async function rr(t){if(typeof t=="string"){if(t.startsWith("http://")||t.startsWith("https://"))try{const n=(await fetch(t,{method:"HEAD"})).headers.get("content-type");if(n&&n.startsWith("image/")){const l=n.split("/")[1],a=t.split("/").pop()||"url-image";return{type:"image",url:t,name:a.replace(/\.[^/.]+$/,""),format:l}}else return{type:"url",url:t,name:new URL(t).hostname}}catch{return{type:"url",url:t,name:new URL(t).hostname}}return{type:"unknown",url:t,name:"unknown"}}else return t.type.startsWith("image/")?{type:"image",url:await new Promise((n,l)=>{const a=new FileReader;a.onload=o=>n(o.target?.result),a.onerror=l,a.readAsDataURL(t)}),name:t.name.replace(/\.[^/.]+$/,""),format:t.type.split("/")[1]}:{type:"unknown",url:"",name:t.name}}async function sr(t){return t.startsWith("http://")||t.startsWith("https://")}async function ar(t){if(!await sr(t))return t;try{const r=await fetch(t),n=r.headers.get("content-type");if(n&&n.startsWith("image/")){const h=await r.blob();return URL.createObjectURL(h)}const l=await r.text(),o=new DOMParser().parseFromString(l,"text/html"),c=['link[rel="icon"]','link[rel="shortcut icon"]','link[rel="apple-touch-icon"]','meta[property="og:image"]','meta[name="twitter:image"]','link[rel="apple-touch-icon-precomposed"]'];for(const h of c){const s=o.querySelector(h);if(s){let m=s.getAttribute("href")||s.getAttribute("content");if(m){m.startsWith("//")?m="https:"+m:m.startsWith("/")?m=new URL(t).origin+m:m.startsWith("http")||(m=new URL(t).origin+"/"+m);const x=await(await fetch(m)).blob();return URL.createObjectURL(x)}}}const u=new URL("/favicon.ico",t).href,i=await fetch(u);if(i.ok){const h=await i.blob();return URL.createObjectURL(h)}throw new Error("ç„¡æ³•å¾ž URL ä¸­æ‰¾åˆ°åœ–ç¤º")}catch(r){throw new Error(`è§£æž URL å¤±æ•—: ${r instanceof Error?r.message:"æœªçŸ¥éŒ¯èª¤"}`)}}async function le(t){const r=await ar(t);return new Promise((n,l)=>{const a=new Image;a.onload=()=>n(a),a.onerror=l,a.crossOrigin="anonymous",a.src=r})}function ce(t,r){const n=document.createElement("canvas");n.width=t,n.height=r;const l=n.getContext("2d");if(!l)throw new Error("Could not get canvas context");return{canvas:n,ctx:l}}async function nr(t,r=512){const n=await le(t),{canvas:l,ctx:a}=ce(r,r);a.imageSmoothingEnabled=!0,a.imageSmoothingQuality="high",a.drawImage(n,0,0,r,r);const o=await new Promise((c,u)=>{l.toBlob(i=>{i?c(i):u(new Error("Failed to create PNG blob"))},"image/png")});return{url:URL.createObjectURL(o),format:"png",blob:o}}async function or(t){const r=[16,32,48,256],n=await Promise.all(r.map(async o=>{const c=await le(t),{canvas:u,ctx:i}=ce(o,o);return i.imageSmoothingEnabled=!0,i.imageSmoothingQuality="high",i.drawImage(c,0,0,o,o),u})),l=ir(n),a=new Blob([l],{type:"image/x-icon"});return{url:URL.createObjectURL(a),format:"ico",blob:a}}function ir(t){const r=t.map(d=>{const j=d.getContext("2d").getImageData(0,0,d.width,d.height);return{width:d.width,height:d.height,data:j.data}}),a=6+r.length*16;let o=a;const c=[];r.forEach(d=>{const y=40+d.width*d.height*4;c.push(y),o+=y});const u=new ArrayBuffer(o),i=new DataView(u),h=new Uint8Array(u);let s=0;i.setUint16(s,0,!0),s+=2,i.setUint16(s,1,!0),s+=2,i.setUint16(s,r.length,!0),s+=2;let m=a;return r.forEach((d,x)=>{i.setUint8(s,d.width===256?0:d.width),s+=1,i.setUint8(s,d.height===256?0:d.height),s+=1,i.setUint8(s,0),s+=1,i.setUint8(s,0),s+=1,i.setUint16(s,1,!0),s+=2,i.setUint16(s,32,!0),s+=2,i.setUint32(s,c[x],!0),s+=4,i.setUint32(s,m,!0),s+=4,m+=c[x]}),r.forEach(d=>{i.setUint32(s,40,!0),s+=4,i.setInt32(s,d.width,!0),s+=4,i.setInt32(s,d.height*2,!0),s+=4,i.setUint16(s,1,!0),s+=2,i.setUint16(s,32,!0),s+=2,i.setUint32(s,0,!0),s+=4,i.setUint32(s,d.width*d.height*4,!0),s+=4,i.setInt32(s,0,!0),s+=4,i.setInt32(s,0,!0),s+=4,i.setUint32(s,0,!0),s+=4,i.setUint32(s,0,!0),s+=4;for(let x=d.height-1;x>=0;x--)for(let j=0;j<d.width;j++){const y=(x*d.width+j)*4;h[s++]=d.data[y+2],h[s++]=d.data[y+1],h[s++]=d.data[y+0],h[s++]=d.data[y+3]}}),u}async function lr(t){const r=[{size:16,type:"icp4"},{size:32,type:"icp5"},{size:64,type:"icp6"},{size:128,type:"ic07"},{size:256,type:"ic08"},{size:512,type:"ic09"},{size:1024,type:"ic10"}],n=await Promise.all(r.map(async({size:o})=>{const c=await le(t),{canvas:u,ctx:i}=ce(o,o);i.imageSmoothingEnabled=!0,i.imageSmoothingQuality="high",i.drawImage(c,0,0,o,o);const h=await new Promise((s,m)=>{u.toBlob(d=>{d?s(d):m(new Error("Failed to create blob"))},"image/png")});return{type:r.find(s=>s.size===o).type,data:new Uint8Array(await h.arrayBuffer())}})),l=cr(n),a=new Blob([l],{type:"image/icns"});return{url:URL.createObjectURL(a),format:"icns",blob:a}}function cr(t){let n=8;t.forEach(u=>{n+=8+u.data.length});const l=new ArrayBuffer(n),a=new DataView(l),o=new Uint8Array(l);let c=0;return o[c++]=105,o[c++]=99,o[c++]=110,o[c++]=115,a.setUint32(c,n,!1),c+=4,t.forEach(u=>{for(let i=0;i<4;i++)o[c++]=u.type.charCodeAt(i);a.setUint32(c,8+u.data.length,!1),c+=4,o.set(u.data,c),c+=u.data.length}),l}async function dr(t,r){switch(r){case"png":return nr(t);case"ico":return or(t);case"icns":return lr(t);default:throw new Error(`Unsupported format: ${r}`)}}const ur=b.lazy(()=>ie(()=>import("./PreviewDialog-D9_ucJT-.js"),__vite__mapDeps([0,1,2,3,4,5,6,7])).then(t=>({default:t.PreviewDialog}))),mr=b.lazy(()=>ie(()=>import("./AutomationDialog-DBOQIlkG.js"),__vite__mapDeps([8,1,2,3,4,9,5,6,7])).then(t=>({default:t.AutomationDialog}))),pr=b.lazy(()=>ie(()=>import("./ApplyIconDialog-CD47SNqx.js"),__vite__mapDeps([10,1,2,3,4,9,5,7,6])).then(t=>({default:t.ApplyIconDialog})));function hr(){const t=p=>new Promise(N=>{setTimeout(N,p)}),[r,n]=b.useState("light");b.useEffect(()=>{const p=window.document.documentElement;p.classList.remove("light","dark"),p.classList.add(r)},[r]);const l=()=>{n(p=>p==="light"?"dark":"light")},[a,o]=b.useState(!1),[c,u]=b.useState(""),[i,h]=b.useState(!1),[s,m]=b.useState([]),[d,x]=b.useState(null),[j,y]=b.useState(!1),[R,C]=b.useState(null),[B,f]=b.useState(!1),[A,z]=b.useState(!1),[T,O]=b.useState(""),[W,g]=b.useState(null),[k,D]=b.useState(!1),U=b.useRef(null),G=()=>{U.current?.click()},Z=async()=>{const p=c.trim();if(!p){F.error("è«‹è¼¸å…¥æœ‰æ•ˆçš„ URL");return}if(!p.startsWith("http://")&&!p.startsWith("https://")){F.error("è«‹è¼¸å…¥æœ‰æ•ˆçš„ URL",{description:"URL å¿…é ˆä»¥ http:// æˆ– https:// é–‹é ­"});return}u(""),h(!1),await V([p])},X=async p=>{const N=p.target.files;if(!N||N.length===0)return;const w=Array.from(N);await V(w),U.current&&(U.current.value="")},V=b.useCallback(async p=>{if(p.length===0||a)return;o(!0);const N=p.map((w,E)=>({id:`${Date.now()}-${E}-${Math.random().toString(36).substr(2,9)}`,name:typeof w=="string"?new URL(w).hostname:w.name,type:"unknown",originalUrl:typeof w=="string"?w:"",status:"pending",addedAt:Date.now()}));m(w=>[...w,...N]);try{for(let w=0;w<p.length;w++){const E=p[w],P=N[w];try{m(_=>_.map(S=>S.id===P.id?{...S,status:"analyzing"}:S));const $=await rr(E);m(_=>_.map(S=>S.id===P.id?{...S,name:$.name,type:$.type,originalUrl:$.url,format:$.format,status:"converting"}:S));const ee=["png","ico","icns"],M=await Promise.all(ee.map(async _=>{const S=await dr($.url,_);return{targetFormat:_,result:S}}));await t(1500),m(_=>_.map(S=>{if(S.id!==P.id)return S;const de={...S.convertedUrls||{}},ue={...S.convertedBlobs||{}};for(const{targetFormat:me,result:pe}of M)de[me]=pe.url,ue[me]=pe.blob;return{...S,status:"completed",convertedFormat:void 0,convertedUrls:de,convertedBlobs:ue,completedAt:Date.now()}})),F.success("è½‰æ›å®Œæˆ",{description:`${$.name} å·²æˆåŠŸè½‰æ›ç‚ºæ‰€æœ‰æ ¼å¼`})}catch($){m(ee=>ee.map(M=>M.id===P.id?{...M,status:"error",error:$ instanceof Error?$.message:"è½‰æ›å¤±æ•—"}:M)),F.error("è½‰æ›å¤±æ•—",{description:`è™•ç† ${P.name} æ™‚ç™¼ç”ŸéŒ¯èª¤`})}}}finally{o(!1)}},[a]),Se=p=>{x(p),y(!0)},ze=p=>{C(p),f(!0)},De=p=>{g(p),D(!0)},Ue=p=>{z(!0),O(p)},Ee=()=>{z(!1),O("")},Le=(p,N)=>{const w=p.convertedUrls?.[N];if(!w)return;const E=document.createElement("a");E.href=w,E.download=`${p.name}.${N}`,document.body.appendChild(E),E.click(),document.body.removeChild(E),F.success("ä¸‹è¼‰å·²é–‹å§‹",{description:`${p.name}.${N}`})},Ae=p=>{m(p)},Re=()=>{m(p=>p.filter(N=>N.status!=="completed"))},Oe=s.some(p=>p.status==="completed");return b.useEffect(()=>{const p=()=>{document.querySelectorAll('[draggable="true"]').forEach(E=>{const P=E;P.style.pointerEvents="",P.style.cursor=""})},N=p,w=p;return document.addEventListener("dragend",p,!0),document.addEventListener("mouseup",N,!0),window.addEventListener("blur",w),()=>{document.removeEventListener("dragend",p,!0),document.removeEventListener("mouseup",N,!0),window.removeEventListener("blur",w)}},[]),e.jsxs(e.Fragment,{children:[e.jsx(Ut,{}),e.jsx(tr,{isActive:A,fileName:T}),e.jsxs("div",{className:"min-h-screen bg-background text-foreground transition-colors duration-300",children:[e.jsx("div",{className:"sticky top-0 z-10 bg-background/95 backdrop-blur-sm border-b border-border",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(Tt,{})}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(L,{variant:"outline",size:"icon",onClick:l,children:r==="dark"?e.jsx(xt,{size:18}):e.jsx(ft,{size:18})})})]})})}),e.jsxs("main",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 mb-6",children:[e.jsxs(L,{onClick:G,size:"lg",variant:"default",className:"gap-2 whitespace-nowrap",disabled:a,children:[e.jsx(bt,{size:20}),a?"è™•ç†ä¸­...":"é¸æ“‡åœ–æª”"]}),e.jsxs(L,{onClick:()=>h(!i),size:"lg",variant:i?"default":"outline",className:"gap-2 whitespace-nowrap",disabled:a,children:[e.jsx(ae,{size:20}),"å¾ž URL è¼‰å…¥"]})]}),e.jsx(q,{mode:"wait",children:i&&e.jsx(v.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Dt,{type:"url",placeholder:"è¼¸å…¥åœ–æª” URL æˆ–ç¶²ç«™ URLï¼ˆä¾‹å¦‚ï¼šhttps://example.com/icon.pngï¼‰",value:c,onChange:p=>u(p.target.value),onKeyDown:p=>{p.key==="Enter"&&!a&&Z()},className:"flex-1",disabled:a,id:"url-input"}),e.jsxs(L,{onClick:Z,disabled:a||!c.trim(),className:"gap-2 whitespace-nowrap",children:[e.jsx(ae,{size:18}),"è¼‰å…¥"]})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"æ”¯æ´ç›´æŽ¥åœ–æª”é€£çµæˆ–ç¶²ç«™ URLï¼Œç³»çµ±å°‡è‡ªå‹•è§£æžç¶²é ä¸­çš„åœ–ç¤º"})]})})}),e.jsxs("div",{className:"grid gap-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"å·¥ä½œå€æ‹–æ”¾å€"}),e.jsx(Ot,{onDrop:V,isProcessing:a,mascotType:r==="dark"?"bot":"hero",hasCompletedItems:Oe}),e.jsxs("div",{className:"mt-4 grid gap-3 text-center md:grid-cols-3",children:[e.jsx("div",{className:"rounded-lg border border-border bg-secondary/5 p-3 text-center",children:e.jsx("p",{className:"text-sm font-medium",children:"1. ICON æˆ–ç¶²å€æ‹–æ‹‰é€²å·¥ä½œå€"})}),e.jsx("div",{className:"rounded-lg border border-border bg-secondary/5 p-3 text-center",children:e.jsx("p",{className:"text-sm font-medium",children:"2. ç³»çµ±è‡ªå‹•åµæ¸¬æª”æ¡ˆé¡žåž‹ä¸¦è½‰æ›"})}),e.jsx("div",{className:"rounded-lg border border-border bg-secondary/5 p-3 text-center",children:e.jsx("p",{className:"text-sm font-medium",children:"3. æä¾› PNG / ICO / ICNS ç­‰æ ¼å¼ä¸‹è¼‰"})})]})]}),s.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-baseline gap-2 mb-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"è™•ç†ä½‡åˆ—"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"æ‹–æ›³åŠŸèƒ½å•Ÿç”¨ï¼šé•·æŒ‰æ ¼å¼æŒ‰éˆ•ï¼ˆPNG / ICO / ICNSï¼‰ä¸¦æ‹–æ›³è‡³ç³»çµ±æª”æ¡ˆæˆ–è³‡æ–™å¤¾ï¼Œå³å¯æ›¿æ›è©²ç›®æ¨™"})]}),e.jsx(Zt,{items:s,onPreview:Se,onDownload:Le,onAutomation:ze,onApplyIcon:De,onReorder:Ae,onClearCompleted:Re,onFileDragStart:Ue,onFileDragEnd:Ee,mascotType:r==="dark"?"bot":"hero"})]})]}),e.jsx(Xt,{})]}),e.jsx("footer",{className:"border-t border-border/70",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex flex-col gap-2 text-xs text-muted-foreground",children:[e.jsxs("p",{children:["GitHubï¼š",e.jsx("a",{href:"https://github.com/pingqLIN/icon-hero",target:"_blank",rel:"noopener noreferrer",className:"underline underline-offset-2 hover:text-foreground transition-colors",children:"https://github.com/pingqLIN/icon-hero"})]}),e.jsx("p",{children:"å…è²¬è²æ˜Žï¼šæœ¬ç¶²ç«™åƒ…æä¾›ç·šä¸Šåœ–æª”æ ¼å¼è½‰æ›æœå‹™ï¼Œè«‹ç•™æ„ç´ æç‰ˆæ¬Šä¸¦ç¢ºèªæ‚¨æ“æœ‰åˆæ³•ä½¿ç”¨èˆ‡è½‰æ›æ¬Šåˆ©ã€‚"})]})})}),e.jsx("input",{ref:U,type:"file",accept:"image/*",multiple:!0,onChange:X,className:"hidden",id:"icon-upload","aria-label":"é¸æ“‡åœ–æª”ä¸Šå‚³"}),e.jsxs(b.Suspense,{fallback:null,children:[e.jsx(ur,{item:d,open:j,onOpenChange:y}),e.jsx(mr,{item:R,open:B,onOpenChange:f}),e.jsx(pr,{item:W,open:k,onOpenChange:D})]})]})]})}const gr=oe("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function xr({className:t,variant:r,...n}){return e.jsx("div",{"data-slot":"alert",role:"alert",className:I(gr({variant:r}),t),...n})}function fr({className:t,...r}){return e.jsx("div",{"data-slot":"alert-title",className:I("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",t),...r})}function br({className:t,...r}){return e.jsx("div",{"data-slot":"alert-description",className:I("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...r})}const vr=({error:t,resetErrorBoundary:r})=>e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs(xr,{variant:"destructive",className:"mb-6",children:[e.jsx(vt,{}),e.jsx(fr,{children:"This spark has encountered a runtime error"}),e.jsx(br,{children:"Something unexpected happened while running the application. The error details are shown below. Contact the spark author and let them know about this issue."})]}),e.jsxs("div",{className:"bg-card border rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"font-semibold text-sm text-muted-foreground mb-2",children:"Error Details:"}),e.jsx("pre",{className:"text-xs text-destructive bg-muted/50 p-3 rounded border overflow-auto max-h-32",children:t.message})]}),e.jsxs(L,{onClick:r,className:"w-full",variant:"outline",children:[e.jsx(yt,{}),"Try Again"]})]})});wt.createRoot(document.getElementById("root")).render(e.jsx(jt,{FallbackComponent:vr,children:e.jsx(hr,{})}));export{re as B,Dt as I,Ft as S,L as a,I as c};
